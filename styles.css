/* ===== RESET & BASE STYLES ===== */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

/* ===== SHARP BORDERS SETTING ===== */
/* body.sharp-borders *,
body.sharp-borders *:before,
body.sharp-borders *:after {
    border-radius: unset !important;
} */

body.sharp-borders .sharp,
body.sharp-borders .sharp:before,
body.sharp-borders .sharp:after {
    border-radius: unset !important;
}


/* ===== LAYOUT & STRUCTURE ===== */
body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: url('img/Wallpaper-1.jpg') no-repeat center center fixed;
    background-size: cover;
    height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
}

.container {
    display: flex;
    flex-direction: column;
    align-items: center;
    position: relative;
}

.main-window {
    width: 1200px;
    height: 450px;
    border-radius: 10px 10px 0 0;
    overflow: hidden;
    position: relative;
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
}

/* Add pseudo-element for blurred background */
.main-window::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(22, 22, 30, 0.1);
    backdrop-filter: blur(10px);
    z-index: 0;
    border-radius: 10px 10px 0 0;
}

/* ===== NAVIGATION / TABS ===== */
.status-bar {
    width: 1200px;
    height: 32px;
    background-color: rgba(26, 27, 38, 0.85);
    backdrop-filter: blur(10px);
    border-radius: 0 0 10px 10px;
    display: flex;
    justify-content: center;
    align-items: center;
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
    position: relative;
    top: 20px;
}

.tab-icons {
    display: flex;
    gap: 30px;
    list-style-type: none;
}

.tab-icon {
    color: #565f89;
    font-size: 16px;
    cursor: pointer;
    transition: all 0.3s;
    padding: 5px 10px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.tab-icon:hover {
    color: #7aa2f7;
}

.tab-icon.active {
    color: #bb9af7;
    border-bottom: none;
    position: relative;
}

.tab-icon.active::after {
    content: '';
    position: absolute;
    height: 2px;
    background-color: #bb9af7;
    bottom: 0;
    left: 50%;
    transform: translateX(-50%);
    width: 100%;
}

.tab-icon[data-tab="tab1"].active::after {
    transform: translateX(-55%);
    width: 23px;
}

.tab-icon[data-tab="tab2"].active::after {
    transform: translateX(-55%);
    width: 25px;
}

/* Tab 3 (III) - wider with more offset */
.tab-icon[data-tab="tab3"].active::after {
    transform: translateX(-54%);
    width: 30px;
}

/* Roman numeral styling */
.roman-numeral {
    display: inline-block;
    transform: rotate(90deg);
    font-family: 'Segoe UI', Arial, sans-serif;
    font-weight: 300;
    font-size: 20px;
    letter-spacing: 1px;
}

/* Tab content styles */
.tab-content {
    position: absolute;
    width: 100%;
    height: 100%;
    padding: 40px;
    transition: transform 0.6s cubic-bezier(0.33, 1, 0.68, 1);
    display: block;
    z-index: 1;
}

/* Initial positions */
#tab1 { transform: translateX(0); }
#tab2 { transform: translateX(100%); }
#tab3 { transform: translateX(100%); }

.tab-content.left {
    transform: translateX(-100%) !important;
}

.tab-content.active {
    transform: translateX(0) !important;
    z-index: 2;
}

.tab-content.right {
    transform: translateX(100%) !important;
}

.tab-content h2 {
    margin-bottom: 20px;
    color: #c0caf5;
    font-size: 28px;
}

.tab-content p {
    color: #c0caf5;
    font-size: 16px;
    line-height: 1.6;
}

/* ===== SHORTCUTS CONTAINER LAYOUT ===== */
.shortcuts-container {
    display: flex;
    flex-direction: column;
    gap: 20px;
    margin-top: 10px;
    position: relative;
    height: calc(100% - 20px);
    width: 100%;
    align-items: center;
}

.shortcuts-left {
    flex: 1;
    display: flex;
    flex-direction: column;
    overflow-y: auto;
    max-height: 370px; /* Increased height for better space usage */
    transition: flex 0.3s ease;
    padding-right: 3px; /* Add padding for scrollbar */
    margin: 0 auto; /* Center the container */
    width: 100%; /* Use full width */
    max-width: 1100px; /* Slightly increased max width */
    align-items: center;
}

/* Hide shortcuts-right as we no longer need categories */
.shortcuts-right {
    display: none;
}

/* Add styles for empty sections */
.empty-container {
    display: none !important; /* Hide empty containers */
}

/* When shortcuts-left is empty, center the categories */
.shortcuts-container .empty-container + .shortcuts-right {
    flex: 2; /* Take full width when left side is empty/hidden */
    margin: 0 auto; /* Center the container */
    max-width: 800px; /* Limit maximum width for better appearance */
}

/* When shortcuts-left is empty, style the categories container for better centering */
.shortcuts-container .empty-container + .shortcuts-right #categories-container {
    justify-content: center; /* Center the grid items */
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); /* Flexible columns */
    margin: 0 auto; /* Center the grid */
    max-width: 100%; /* Use available width */
}

/* When shortcuts-right is empty, let shortcuts-left take full width */
.shortcuts-container .shortcuts-left:not(.empty-container) + .empty-container {
    display: none;
}

.shortcuts-container .shortcuts-left:not(.empty-container) + .empty-container ~ .shortcuts-left {
    flex: 2; /* Take full width when right side is empty/hidden */
    max-width: 900px; /* Limit maximum width */
    margin: 0 auto; /* Center in container */
}

/* Section titles */
.section-title {
    color: #bb9af7;
    font-size: 18px;
    margin-bottom: 15px;
    font-weight: 500;
    border-bottom: 1px solid rgba(122, 162, 247, 0.2);
    padding-bottom: 5px;
}

/* ===== SCROLLBAR STYLING ===== */
/* Make scrollbars thinner and add space */
.shortcuts-left::-webkit-scrollbar,
.shortcuts-right::-webkit-scrollbar,
#notes-area::-webkit-scrollbar,
#todo-list::-webkit-scrollbar {
    width: 5px; /* Thinner scrollbar (was 8px) */
}

/* Hide scrollbars by default in tab1 containers */
.shortcuts-left, 
.shortcuts-right {
    -ms-overflow-style: none;  /* IE and Edge */
    scrollbar-width: none;  /* Firefox */
}

/* Hide WebKit scrollbars by default */
.shortcuts-left::-webkit-scrollbar,
.shortcuts-right::-webkit-scrollbar {
    display: none;
}

/* Show scrollbars on hover */
.shortcuts-left:hover::-webkit-scrollbar,
.shortcuts-right:hover::-webkit-scrollbar {
    display: block;
}

/* Restore Firefox scrollbar on hover */
.shortcuts-left:hover,
.shortcuts-right:hover {
    scrollbar-width: thin;
}

.shortcuts-left::-webkit-scrollbar-track,
.shortcuts-right::-webkit-scrollbar-track,
#notes-area::-webkit-scrollbar-track,
#todo-list::-webkit-scrollbar-track {
    background-color: rgba(26, 27, 38, 0.3);
    border-radius: 4px;
    margin: 3px; /* Add margin to create separation */
}

.shortcuts-left::-webkit-scrollbar-thumb,
.shortcuts-right::-webkit-scrollbar-thumb,
#notes-area::-webkit-scrollbar-thumb,
#todo-list::-webkit-scrollbar-thumb {
    background-color: rgba(122, 162, 247, 0.3);
    border-radius: 4px;
    border: 1px solid transparent; /* Create a border for spacing */
    background-clip: padding-box; /* Ensure the background doesn't extend into the border */
}

/* Firefox scrollbar styling */
.shortcuts-left, 
.shortcuts-right,
#notes-area, 
#todo-list {
    scrollbar-width: thin; /* Use the thin preset in Firefox */
    scrollbar-color: rgba(122, 162, 247, 0.3) rgba(26, 27, 38, 0.3);
}

/* ===== SHORTCUTS GRID ===== */
#shortcuts-grid {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 25px;
    width: 100%;
    min-height: 50px;
    margin: 0 auto;
    padding: 2% 15px; /* Reduced padding from 10% to 2% */
    max-width: 1100px;
}

/* Add styling for rows within the grid */
#shortcuts-grid .row {
    display: flex;
    justify-content: center;
    gap: inherit; /* Use the same gap as the parent by default */
    margin-bottom: 15px; /* Reduced from 25px to 15px */
    width: 100%;
}

/* Make second row items closer to each other */
#shortcuts-grid .row:nth-child(2) {
    gap: 15px; /* Smaller gap for second row */
}

/* For the case when there's only one row, don't add bottom margin */
#shortcuts-grid .row:only-child {
    margin-bottom: 0;
}

.shortcut-item {
    background-color: rgba(26, 27, 38, 0.7);
    border-radius: 12px; /* Increased radius for softer look */
    padding: 0;
    text-align: center;
    transition: all 0.3s ease, transform 0.2s ease-out;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
    position: relative;
    width: 160px; /* Fixed width for each shortcut */
    height: 140px; /* Reduced from 200px to 160px for better fit */
    display: block; /* Change from flex to block for aspect ratio */
    flex: 0 0 115px; /* Don't grow, don't shrink, fixed width */
}

/* Enhanced hover effect for shortcuts */
.shortcut-item:hover {
    transform: translateY(-3px);
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
}

/* Add a subtle glow effect around the icon on hover */
.shortcut-item:hover .shortcut-icon {
    background-color: rgba(187, 154, 247, 0.2);
    box-shadow: 0 0 10px rgba(187, 154, 247, 0.4);
}

/* Change name background on hover for better visibility */
.shortcut-item:hover .shortcut-name {
    background-color: rgba(41, 46, 66, 0.95);
    color: #ffffff;
}

/* In edit mode, make the hover effect less pronounced to avoid confusion with drag */
body.edit-mode .shortcut-item:hover {
    transform: translateY(-2px);
}

/* Special case for category shortcuts - make hover effect more subtle */
.category-grid .shortcut-item:hover {
    transform: translateY(-1px);
    background-color: rgba(41, 46, 66, 0.8);
}

/* Make shortcuts even smaller when we have 2 rows */
#shortcuts-grid:has(.row:nth-child(2)) .shortcut-item {
    height: 140px; /* Even smaller when we have two rows */
}

/* When we have more than 8 shortcuts, make them even smaller */
#shortcuts-grid:has(.shortcut-item:nth-child(n+9)) .shortcut-item {
    height: 130px;
    width: 150px;
    flex: 0 0 150px;
}

/* Remove or comment out the grid-specific selectors that are no longer needed */
/*
#shortcuts-grid:has(.shortcut-item:first-child:last-child) {
    grid-template-columns: minmax(130px, 160px);
    max-width: 200px;
}
*/
/* ...remove other grid-specific styles... */

/* Update helper classes to work with flexbox */
.grid-col-1 {
    max-width: 200px !important;
}

.grid-col-2 {
    max-width: 345px !important; /* Two items + gap (160*2 + 25) */
}

.grid-col-3 {
    max-width: 530px !important; /* Three items + gaps (160*3 + 25*2) */
}

.grid-col-4 {
    max-width: 715px !important; /* Four items + gaps (160*4 + 25*3) */
}

.grid-col-5 {
    max-width: 900px !important; /* Five items + gaps (160*5 + 25*4) */
}

.grid-col-6 {
    max-width: 1085px !important; /* Six items + gaps (160*6 + 25*5) */
}

/* Media query for smaller screens - adjust columns for better visibility */
@media (max-width: 1200px) {
    #shortcuts-grid {
        gap: 20px;
    }
    
    /* Reduce max columns to 5 on medium screens */
    #shortcuts-grid:has(.shortcut-item:first-child:nth-last-child(n+6)) {
        grid-template-columns: repeat(5, minmax(120px, 140px));
        max-width: 800px;
    }
    
    .shortcut-item {
        max-width: 140px;
    }
}

@media (max-width: 900px) {
    #shortcuts-grid {
        gap: 15px;
    }
    
    /* Reduce max columns to 4 on smaller screens */
    #shortcuts-grid:has(.shortcut-item:first-child:nth-last-child(n+5)) {
        grid-template-columns: repeat(4, minmax(110px, 130px));
        max-width: 600px;
    }
    
    .shortcut-item {
        max-width: 130px;
    }
}

@media (max-width: 600px) {
    #shortcuts-grid {
        gap: 10px;
    }
    
    /* Reduce max columns to 3 on very small screens */
    #shortcuts-grid:has(.shortcut-item:first-child:nth-last-child(n+4)) {
        grid-template-columns: repeat(3, minmax(100px, 120px));
        max-width: 400px;
    }
    
    .shortcut-item {
        max-width: 120px;
    }
}

.shortcut-link {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: space-between; /* Changed from center to space-between to push name to bottom */
    text-decoration: none;
    cursor: pointer;
    width: 100%;
    height: 100%;
    color: inherit;
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    padding: 15px 15px 0 15px; /* Remove bottom padding to make room for name section */
}

.shortcut-name {
    color: #c0caf5;
    font-size: 15px;
    font-weight: 500;
    word-break: break-word;
    text-align: center;
    background-color: rgba(41, 46, 66, 0.85);
    width: 100%; /* Make it full width of container */
    padding: 10px 5px; /* Add padding for better spacing */
    border-radius: 0 0 12px 12px; /* Round bottom corners to match parent */
    margin-top: auto; /* Push to bottom */
    position: absolute; /* Position at bottom of container */
    bottom: 0;
    left: 0;
    right: 0;
    max-height: 40%; /* Limit height to prevent overflow */
    overflow: hidden;
    display: flex;
    align-items: center;
    justify-content: center;
}

/* Remove the divider line since we now have background color separation */
.shortcut-name:after {
    display: none; /* Hide the divider */
}

.shortcut-url {
    color: #565f89;
    font-size: 12px;
    margin-top: 5px;
    word-break: break-word;
    max-width: 100%;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
    position: relative;
    z-index: 2; /* Ensure it appears above the name background */
}

.shortcut-icon {
    width: 78px;
    height: 78px;
    display: flex;
    align-items: center;
    justify-content: center;
    color: #bb9af7;
    margin-bottom: 8px;
    /* margin-top: 5px;  */
    background-color: rgba(187, 154, 247, 0.1);
    border-radius: 10px;
    padding: 6px;
    position: relative;
    z-index: 1;
}

.shortcut-icon img {
    width: 100%;
    height: 100%;
    object-fit: contain;
    border-radius: 10px;
}

/* Adjust edit button positioning to ensure it's not covered by the name background */
.edit-shortcut {
    position: absolute;
    top: 10px;
    color: rgba(86, 95, 137, 0.78);
    font-size: 14px;
    z-index: 3; /* Ensure it stays on top */
}

/* ===== CATEGORIES STYLING ===== */
#categories-container {
    width: 100%;
    min-height: 10px;
    display: grid;
    /* Replace fixed 3-column layout with a responsive layout */
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    grid-auto-rows: min-content;
    grid-gap: 15px;
    overflow-y: auto;
}

/* Special case for single category - make it wider */
#categories-container:has(.category:only-child) {
    grid-template-columns: 1fr; /* Single column when only one category */
    max-width: 80%; /* Limit width to avoid being too stretched */
    margin: 0 auto; /* Center it */
}

/* Special case for exactly two categories - make them equal width */
#categories-container:has(.category:first-child:nth-last-child(2)) {
    grid-template-columns: repeat(2, 1fr); /* Two equal columns */
    margin: 0 auto; /* Center it */
}

/* For 3+ categories, change to 2-column layout instead of 3 */
#categories-container:has(.category:first-child:nth-last-child(n+3)) {
    grid-template-columns: repeat(2, 1fr); /* Changed from 3 to 2 columns */
}

/* Ensure categories have enough space to show content well */
.category {
    background-color: rgba(26, 27, 38, 0.3);
    border-radius: 8px;
    padding-left: 10px;
    padding-right: 10px;
    max-width: 95%;
    overflow: hidden;
    min-height: 80px;
    height: auto;
    display: flex;
    flex-direction: column;
    min-width: 245px; /* Ensure minimum width for readability */
    padding-bottom: 40px;
    margin-right: 5px; /* Add margin to prevent collision with scrollbar */
}

.category-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 5px;
    border-bottom: 1px solid rgba(122, 162, 247, 0.2);
    padding-bottom: 3px;
    flex-shrink: 0;
}

/* Add consistent styling for category action buttons */
.category-actions {
    display: flex;
    gap: 5px;
    opacity: 1; /* Hide by default */
    transition: opacity 0.2s ease; /* Smooth transition */
}

/* Show category actions only on hover */
.category:hover .category-actions {
    opacity: 1;
}

.category-action {
    height: 18px;
    width: 18px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    background-color: rgba(26, 27, 38, 0.4);
    color: #565f89;
    font-size: 10px;
    cursor: pointer;
    transition: all 0.3s ease;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
}

.category-action:hover {
    background-color: rgba(41, 46, 66, 0.9);
    color: #7aa2f7;
    transform: scale(1.1);
}

.category-title {
    color: #bb9af7;
    font-size: 16px;
    font-weight: 500;
    display: flex;
    align-items: center;
    gap: 8px;
}

/* Category grid - 6 items per column layout */
.category-grid {
    display: grid;
    grid-auto-flow: column;
    grid-template-rows: repeat(6, 30px);
    grid-auto-columns: minmax(65px, 1fr);
    gap: 10px;
    overflow-x: auto;
    overflow-y: hidden;
    padding-bottom: 15px;
    min-height: 30px;
    
    /* Hide scrollbar by default (cross-browser) */
    -ms-overflow-style: none;  /* IE and Edge */
    scrollbar-width: none;  /* Firefox */
}

/* Hide scrollbar for Chrome, Safari and Opera */
.category-grid::-webkit-scrollbar {
    width: 5px;
    height: 5px;
    display: none; /* Hidden by default */
}

/* Show scrollbar only on category hover */
.category:hover .category-grid::-webkit-scrollbar {
    display: block; /* Show on hover */
}

/* Restore Firefox scrollbar on hover */
.category:hover .category-grid {
    scrollbar-width: thin; /* Show on hover */
}

/* Styling for category grid scrollbar when visible */
.category-grid::-webkit-scrollbar-track {
    background-color: rgba(26, 27, 38, 0.3);
    border-radius: 4px;
}

.category-grid::-webkit-scrollbar-thumb {
    background-color: rgba(122, 162, 247, 0.3);
    border-radius: 4px;
}

.category-grid::-webkit-scrollbar-thumb:hover {
    background-color: rgba(122, 162, 247, 0.5);
}

/* ===== CATEGORY SHORTCUTS ===== */
.category-grid .shortcut-item {
    width: 100%;
    height: 30px;
    display: flex;
    align-items: center;
    justify-content: center; /* Center content horizontally */
    padding: 0 5px;
    margin-bottom: 0;
}

.category-grid .shortcut-name {
    font-size: 12px;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    max-width: 100%;
    text-align: center;
    position: relative; /* Not absolute in category view */
    border-radius: 5px; /* Smaller radius for category items */
    height: 100%;
    padding: 0 8px;
    background-color: rgba(41, 46, 66, 0.7);
    max-height: none; /* Allow normal height */
    margin-top: 0; /* Remove auto margin */
}

/* Adjust category link styling */
.category-grid .shortcut-link {
    flex-direction: row;
    justify-content: center;
    gap: 8px;
    position: relative;
    overflow: hidden;
    padding: 0 5px; /* Adjust padding */
}

/* Add URL text display for category shortcuts */
.category-grid .shortcut-item:hover .shortcut-url {
    display: block;
    position: absolute;
    bottom: -15px;
    left: 0;
    right: 0;
    font-size: 10px;
    color: #7aa2f7;
    background-color: rgba(15, 17, 37, 0.9);
    padding: 2px 4px;
    border-radius: 2px;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    text-align: center;
    z-index: 5;
}

/* ===== BUTTONS AND CONTROLS ===== */
.settings-btn, .add-shortcut-btn {
    height: 30px;
    width: 30px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    background-color: rgba(26, 27, 38, 0.7);
    color: #565f89;
    font-size: 14px;
    cursor: pointer;
    transition: all 0.3s ease, opacity 0.5s ease;
    position: fixed;
    bottom: 20px;
    right: 20px;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
    z-index: 1000; /* Ensure it's above other elements */
    opacity: 0; /* Hide by default */
}

.settings-btn {
    z-index: 100;
    display: none;
}

.add-shortcut-btn {
    z-index: 1000;
}

/* Apply the same hiding behavior to other bottom buttons */
.tab2-settings-btn, .bg-config-btn {
    transition: all 0.3s ease, opacity 0.5s ease;
    opacity: 0; /* Hide by default */
}

/* Show buttons on hover */
.buttons-visible .settings-btn,
.buttons-visible .add-shortcut-btn,
.buttons-visible .tab2-settings-btn,
.buttons-visible .bg-config-btn {
    opacity: 0.7;
}

/* Standard hover effects for all bottom buttons */
.settings-btn:hover, 
.add-shortcut-btn:hover, 
.tab2-settings-btn:hover, 
.bg-config-btn:hover {
    background-color: rgba(41, 46, 66, 0.9);
    color: #7aa2f7;
    opacity: 1;
    transform: scale(1.1);
}

/* ===== ADD DROPDOWN ===== */
.add-dropdown {
    position: absolute;
    bottom: 40px;
    right: 0;
    background-color: rgba(26, 27, 38, 0.9);
    border-radius: 5px;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
    width: 150px;
    display: none;
    overflow: hidden;
    z-index: 1001;
}

/* Force dropdown to stay visible when active */
.add-dropdown.active {
    display: block !important;
}

/* Override hover behavior to prevent flickering */
.add-shortcut-btn:hover .add-dropdown:not(.active) {
    display: none;
}

.add-shortcut-btn .add-dropdown.active {
    display: block;
}

.add-shortcut-btn::after {
    content: '';
    position: absolute;
    height: 10px;
    width: 150px;
    bottom: 30px;
    right: 0;
    background-color: transparent;
}

.add-shortcut-btn:hover .add-dropdown {
    display: block;
}

.add-option {
    padding: 10px 15px;
    color: #c0caf5;
    font-size: 14px;
    cursor: pointer;
    transition: all 0.2s ease;
    display: flex;
    align-items: center;
    gap: 8px;
    justify-content: space-between;
    position: relative;
    z-index: 1003;
}

.option-counter {
    margin-left: auto;
    font-size: 12px;
    color: #565f89;
    padding: 2px 6px;
    background-color: rgba(41, 46, 66, 0.5);
    border-radius: 10px;
}

.add-option:hover {
    background-color: rgba(41, 46, 66, 0.8);
    color: #7aa2f7;
}

/* ===== FORMS STYLING ===== */
.shortcut-form, .category-form, .settings-form {
    background-color: rgba(26, 27, 38, 0.9);
    border-radius: 10px;
    padding: 20px;
    width: 100%;
    max-width: 350px;
    margin: 0 auto;
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
    display: none;
    position: fixed;
    z-index: 200;
    animation: fadeIn 0.3s ease-in-out;
}

.shortcut-form, .category-form {
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
}

.settings-form {
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
}

.shortcut-form.active, .category-form.active, .settings-form.active {
    display: block;
}

.shortcut-form h3, .category-form h3, .settings-form h3 {
    color: #c0caf5;
    margin-bottom: 15px;
    text-align: center;
}

.delete-shortcut-option, .delete-category-option {
    margin-top: 15px;
    text-align: center;
}

.delete-btn {
    background-color: transparent;
    border: 1px solid #f7768e;
    color: #f7768e;
    padding: 5px 10px;
    border-radius: 4px;
    cursor: pointer;
    font-size: 12px;
    transition: all 0.2s ease;
}

.delete-btn:hover {
    background-color: rgba(247, 118, 142, 0.2);
}

.form-group {
    margin-bottom: 15px;
    color: #c0caf5;
}

.form-group input, #shortcut-category {
    width: 100%;
    padding: 10px;
    border-radius: 5px;
    border: 1px solid #414868;
    background-color: rgba(41, 46, 66, 0.6);
    color: #c0caf5;
    font-size: 14px;
    outline: none;
}

.form-group input:focus, #shortcut-category:focus {
    border-color: #7aa2f7;
}

#shortcut-category {
    margin-top: 5px;
}

.form-buttons {
    display: flex;
    justify-content: space-between;
    margin-top: 20px;
}

.btn {
    padding: 8px 15px;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    font-size: 14px;
    font-weight: 500;
    transition: all 0.2s ease;
}

#save-shortcut, .settings-btn-action {
    background-color: #7aa2f7;
    color: #1a1b26;
}

#save-shortcut:hover, .settings-btn-action:hover {
    background-color: #89b4ff;
}

.btn-cancel {
    background-color: transparent;
    border: 1px solid #414868;
    color: #565f89;
}

.btn-cancel:hover {
    background-color: rgba(41, 46, 66, 0.6);
    color: #c0caf5;
}

/* ===== SETTINGS FORM ===== */
.settings-options {
    margin-bottom: 20px;
    display: flex;
    flex-direction: column;
    gap: 15px;
}

#import-file {
    background-color: rgba(41, 46, 66, 0.6);
    color: #c0caf5;
    padding: 10px;
    width: 100%;
    border: 1px solid #414868;
    border-radius: 5px;
    margin-top: 5px;
}

#import-file::-webkit-file-upload-button {
    background-color: #414868;
    color: #c0caf5;
    border: none;
    padding: 5px 10px;
    margin-right: 10px;
}

/* Import notification styling */
.import-notification {
    padding: 0;
    border-radius: 4px;
    font-size: 14px;
    text-align: center;
    opacity: 0;
    transition: opacity 0.3s ease;
    height: 0;
    overflow: hidden;
    position: absolute;
    left: 100px;
    bottom: 20px;
    width: calc(100% - 120px);
    display: flex;
    align-items: center;
    justify-content: center;
}

.import-notification.success {
    background-color: rgba(158, 206, 106, 0.2);
    color: #9ece6a;
    border: 1px solid #9ece6a;
    height: 35px;
    opacity: 1;
}

.import-notification.error {
    background-color: rgba(247, 118, 142, 0.2);
    color: #f7768e;
    border: 1px solid #f7768e;
    height: 35px;
    opacity: 1;
}

/* Add help text styling for API key */
.api-help-text {
    font-size: 12px;
    margin-top: 5px;
    color: #565f89;
}

.api-help-text a {
    color: #7aa2f7;
    text-decoration: none;
}

.api-help-text a:hover {
    text-decoration: underline;
}

/* Enhanced API help text and format list */
.api-help-text {
    font-size: 12px;
    margin-top: 5px;
    color: #565f89;
}

.api-help-text a {
    color: #7aa2f7;
    text-decoration: none;
}

.api-help-text a:hover {
    text-decoration: underline;
}

.format-list {
    list-style: none;
    margin-top: 5px;
    margin-bottom: 5px;
    padding-left: 5px;
}

.format-list li {
    margin-bottom: 2px;
    font-size: 11px;
}

.format-list i {
    color: #9ece6a;
    margin-right: 5px;
}

/* ===== TAB3 - NOTES & TODO ===== */
.tab3-container {
    display: flex;
    gap: 30px;
    height: calc(100% - 0px);
}

.todo-section, .notes-section {
    flex: 1;
    background-color: rgba(26, 27, 38, 0.5);
    border-radius: 8px;
    padding: 5px 20px 20px 20px;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
    height: 100%;
    display: flex;
    flex-direction: column;
    overflow: hidden; /* Prevent container overflow */
}

.todo-section h3, .notes-section h3 {
    
    margin-bottom: 15px;
    font-size: 20px;
    flex-shrink: 0; /* Prevent title from shrinking */
}

/* Todo section styles */
.todo-input-container {
    display: flex;
    margin-bottom: 15px;
    flex-shrink: 0; /* Prevent input from shrinking */
}

#todo-input {
    flex: 1;
    padding: 10px;
    border-radius: 5px 0 0 5px;
    border: 1px solid #414868;
    background-color: rgba(41, 46, 66, 0.6);
    color: #c0caf5;
    font-size: 14px;
    outline: none;
}

#todo-input:focus {
    border-color: #7aa2f7;
}

#add-todo-btn {
    background-color: #7aa2f7;
    color: #1a1b26;
    border-radius: 0 5px 5px 0;
}

#todo-list {
    list-style-type: none;
    overflow-y: auto;
    flex: 1;
    padding-right: 5px; /* Space for scrollbar */
}

/* Ensure todo list displays properly */
#todo-list::-webkit-scrollbar {
    width: 5px;
    display: block; /* Always show scrollbar */
}

.todo-item {
    display: flex;
    align-items: center;
    padding: 10px;
    border-radius: 5px;
    margin-bottom: 8px;
    background-color: rgba(41, 46, 66, 0.4);
    transition: all 0.2s ease;
}

.todo-item:hover {
    background-color: rgba(41, 46, 66, 0.6);
}

.todo-checkbox {
    margin-right: 10px;
    cursor: pointer;
}

.todo-text {
    flex: 1;
    color: #c0caf5;
}

.todo-delete {
    color: #f7768e;
    cursor: pointer;
    opacity: 0.5;
    transition: opacity 0.2s;
}

.todo-delete:hover {
    opacity: 1;
}

.todo-completed .todo-text {
    text-decoration: line-through;
    color: #565f89;
}

/* Notes section styles */
#notes-area {
    width: 100%;
    height: 100%;
    padding: 15px;
    border-radius: 5px;
    border: 1px solid #414868;
    background-color: rgba(41, 46, 66, 0.6);
    color: #c0caf5;
    font-size: 14px;
    line-height: 1.6;
    resize: none;
    outline: none;
    overflow-y: auto;
    flex: 1;
}

#notes-area:focus {
    border-color: #7aa2f7;
}

/* Make sure notes area scrollbar is always visible */
#notes-area::-webkit-scrollbar {
    width: 5px;
    display: block;
}

/* ===== UTILITY CLASSES ===== */
.empty-state {
    display: none;
}

/* Edit mode styles */
body:not(.edit-mode) .edit-shortcut {
    display: none !important; /* Hide edit buttons when not in edit mode */
}

body:not(.edit-mode) .category-actions {
    display: none !important; /* Hide category action buttons when not in edit mode */
}

body.edit-mode .add-shortcut-btn {
    background-color: rgba(187, 154, 247, 0.7); /* Purple background in edit mode */
    color: #ffffff;
}

#toggle-edit-mode.active {
    background-color: rgba(41, 46, 66, 0.8);
    color: #bb9af7; /* Tokyo Night purple */
}

#toggle-edit-mode.active .fas {
    color: #bb9af7;
}

/* Fix for edit mode toggle functionality */
#toggle-edit-mode {
    cursor: pointer;
    position: relative;
    z-index: 1002;
}

/* Make sure add dropdown stays visible when clicked */
.add-dropdown.active {
    display: block !important;
}

/* Enhanced edit mode toggle styling */
#toggle-edit-mode {
    cursor: pointer;
    position: relative;
    z-index: 1002;
    transition: background-color 0.3s ease, color 0.3s ease;
}

/* Improved active state for edit mode toggle */
#toggle-edit-mode.active,
body.edit-mode #toggle-edit-mode {
    background-color: rgba(187, 154, 247, 0.2);
    color: #bb9af7;
}

#toggle-edit-mode.active .fas,
body.edit-mode #toggle-edit-mode .fas {
    color: #bb9af7;
}

/* Improved dropdown visibility */
.add-dropdown {
    position: absolute;
    bottom: 40px;
    right: 0;
    background-color: rgba(26, 27, 38, 0.9);
    border-radius: 5px;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
    width: 150px;
    display: none;
    overflow: hidden;
    z-index: 1001;
}

/* Force dropdown to stay visible when active */
.add-dropdown.active {
    display: block !important;
}

/* Override hover behavior to prevent flickering */
.add-shortcut-btn:hover .add-dropdown:not(.active) {
    display: none;
}

.add-shortcut-btn .add-dropdown.active {
    display: block;
}

/* Make the area around edit button non-clickable to prevent event confusion */
body.edit-mode .edit-shortcut {
    pointer-events: auto;
    padding: 5px;
    margin: -5px;
}

/* More obvious feedback when in edit mode */
body.edit-mode .add-shortcut-btn {
    background-color: rgba(187, 154, 247, 0.8);
    color: #ffffff;
}

/* Enhanced edit mode toggle button */
#toggle-edit-mode {
    cursor: pointer;
    width: 100%;
    text-align: left;
    background: none;
    border: none;
    font-size: inherit;
    font-family: inherit;
    padding: 10px 15px;
    color: #c0caf5;
    display: flex;
    align-items: center;
    gap: 8px;
    position: relative;
    z-index: 1005;
    transition: all 0.2s ease;
    justify-content: flex-start;
}

#toggle-edit-mode:hover,
#toggle-edit-mode:focus {
    background-color: rgba(41, 46, 66, 0.8);
    color: #7aa2f7;
    outline: none;
}

/* Better visual indication for edit mode */
#toggle-edit-mode.active,
body.edit-mode #toggle-edit-mode {
    background-color: rgba(187, 154, 247, 0.2);
    color: #bb9af7;
}

#toggle-edit-mode i {
    width: 14px; /* Fixed width for icon */
    text-align: center;
}

/* Make edit buttons more obvious in edit mode */
body.edit-mode .edit-shortcut {
    display: flex !important;
    background-color: rgba(187, 154, 247, 0.2);
    padding: 5px;
    border-radius: 50%;
}

body.edit-mode .edit-shortcut:hover {
    background-color: rgba(187, 154, 247, 0.4);
    transform: scale(1.1);
}

/* Add edit mode indicator to the page */
body.edit-mode::after {
    content: "Edit Mode";
    position: fixed;
    bottom: 20px;
    right: 60px; /* Position to the left of the add button (which is at right: 20px) */
    background-color: rgba(187, 154, 247, 0.7);
    color: #fff;
    padding: 5px 10px;
    border-radius: 15px;
    font-size: 12px;
    pointer-events: none; /* Make sure it doesn't interfere with clicks */
    z-index: 999; /* Set z-index lower than the add button (1000) */
}

/* Move edit instructions to appear between bottom of page and status bar */
.edit-instructions {
    background-color: rgba(26, 27, 38, 0.7);
    color: #7aa2f7;
    padding: 8px 16px;
    border-radius: 20px;
    font-size: 14px;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    opacity: 0;
    transition: opacity 0.3s ease;
    text-align: center;
    position: fixed; /* Position it fixed at the bottom */
    transform: translate(0%, -150%);
    z-index: 998; /* Ensure it appears above most elements but below critical UI */
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2); /* Add subtle shadow */
    pointer-events: none; /* Don't interfere with clicks */
}

.edit-instructions i {
    font-size: 16px;
}

body:not(.edit-mode) .edit-instructions {
    display: none;
}

#background-overlay {
    position: fixed; /* Or absolute, depending on your layout */
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: -1; /* Place it behind the main content but above the body background */
    pointer-events: none; /* Prevent it from interfering with clicks */
    background-color: transparent; /* Start transparent */
    opacity: 0; /* Start hidden */
    transition: opacity 0.3s ease; /* Optional: Smooth transition */
    display: none; /* Start hidden, JS will manage this */
}

/* ===== TAB2 - WEATHER & NEWS ===== */
.weather-news-container {
    display: flex;
    gap: 30px;
    height: calc(100% - 0px); /* Use full height */
}

.weather-section, .news-section {
    background-color: rgba(26, 27, 38, 0.5);
    border-radius: 8px;
    /* padding: 20px;  */
    padding: 5px 20px 20px 20px;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
    height: 100%;
    display: flex;
    flex-direction: column;
    overflow: hidden; /* Prevent sections themselves from scrolling */
}

.weather-section {
    flex: 0 0 250px; /* Fixed width, don't grow or shrink */
}

/* Weather widget styling */
#weather-widget {
    display: flex; /* Use flexbox for internal layout */
    flex-direction: column; /* Stack elements vertically */
    align-items: center;
    padding: 0; /* Remove padding, handled by weather-section */
    background-color: transparent; /* Remove redundant background */
    border-radius: 0; /* Remove redundant radius */
    height: 100%; /* Fill the weather-section */
    flex-grow: 1; /* Allow widget to grow */
}

/* Ensure weather content takes available space */
#weather-content {
    display: flex; /* REMOVED !important */
    flex-direction: column;
    align-items: center;
    width: 100%;
    flex-grow: 1; /* Allow content to fill space */
    justify-content: space-between; /* Push metrics to bottom */
}

.weather-header {
    display: flex;
    align-items: center;
    justify-content: center;
    margin-bottom: 15px;
    gap: 15px;
    }

.weather-icon {
    font-size: 48px;
    color: #7aa2f7;
}

.weather-icon img {
    width: 80px;
    height: 80px;
}

.weather-temp {
    font-size: 48px;
    color: #c0caf5;
    font-weight: 300;
}

.weather-details {
    margin-bottom: 20px;
    text-align: center;
}

.weather-description {
    font-size: 18px;
    color: #c0caf5;
    margin-bottom: 5px;
    text-transform: capitalize;
}

.weather-location {
    font-size: 16px;
    color: #565f89;
    margin-bottom: 10px;
}

.weather-feels-like {
    font-size: 14px;
    color: #565f89;
}

.weather-metrics {
    display: flex;
    justify-content: space-around;
    width: 100%;
    margin-top: auto;
}

.weather-metric {
    display: flex;
    flex-direction: column;
    align-items: center;
    color: #c0caf5;
    gap: 5px;
}

.weather-metric i {
    font-size: 24px;
    color: #7aa2f7;
}


/* News section styling */
.news-section {
    flex: 1; /* Allow news section to take remaining space */
    display: flex;
    flex-direction: column;
    overflow: hidden; /* Ensure container manages overflow */
}

/* Make the articles container scrollable and take all available space */
.news-articles-container {
    display: flex; /* Use flex for consistency */
    flex-direction: column;
    gap: 15px;
    overflow-y: auto; /* Enable vertical scrolling */
    height: 100%; /* Take full height of parent */
    flex-grow: 1; /* Allow it to grow */
    padding-right: 5px; /* Space for scrollbar */
    scrollbar-width: thin; /* Firefox */
    scrollbar-color: rgba(122, 162, 247, 0.3) rgba(26, 27, 38, 0.3); /* Firefox */
}

/* Make the feed container take up available height */
#rss-container {
    display: flex;
    flex-direction: column;
    flex-grow: 1; /* Ensure it fills the news-section */
    height: 100%; /* Take full height */
    overflow: hidden; /* Prevent overflow */
}

/* News article styling */
.news-article {
    display: flex;
    background-color: rgba(26, 27, 38, 0.7);
    /* border-radius: 8px; */
    overflow: hidden;
    transition: all 0.3s ease;
    text-decoration: none; /* Remove default link styling */
    flex-shrink: 0; /* Prevent articles from shrinking */
}
.news-article:hover {
    background-color: rgba(41, 46, 66, 0.9); /* Darker on hover */
    transform: scale(1.01); /* Slightly enlarge on hover */
}

/* Remove height differences based on thumbnail */
.news-article.has-thumbnail {
}

.news-article.no-thumbnail {
    padding-left: 15px; /* Add padding on the left since there's no image */
}

.news-content {
    padding: 12px 15px; /* Consistent padding */
    display: flex;
    flex-direction: column;
    flex: 1;
    overflow: hidden;
    min-height: 70px; /* Ensure a minimum height */
}

.news-title {
    font-size: 14px;
    font-weight: 500;
    color: #c0caf5;
    margin-bottom: 5px; /* Add space below title */
    display: -webkit-box;
    -webkit-line-clamp: 2; /* Limit to 2 lines */
    -webkit-box-orient: vertical;
    overflow: hidden;
    text-overflow: ellipsis;
    line-height: 1.3; /* Adjust line height */
}

.news-source {
    font-size: 12px;
    color: #7aa2f7;
    margin-top: auto; /* Push source and date to bottom */
    padding-top: 5px; /* Add space above source/date */
    align-self: flex-start; /* Align to the start */
    /* align-self: flex-end; */
    /* transform: translate(0%, -150%); */
}

.news-date {
    font-size: 11px;
    color: #565f89;
    margin-top: 2px; /* Space between source and date */
    align-self: flex-start; /* Align to the start */
    align-self: flex-end; /* Align to the end */
    /* transform: translate(0%, -150%); */
}

/* Ensure loading and error displays take full height too */
#rss-loading, #rss-error,
#weather-loading, #weather-error {
    flex-grow: 1;
    display: flex;
    flex-direction: column; /* Stack icon and text */
    align-items: center;
    justify-content: center;
    width: 100%;
    height: 100%; /* Ensure they fill space */
    text-align: center;
    padding: 20px;
    color: #bb9af7;
}

.loading-indicator i,
.error-message i {
    font-size: 24px;
    margin-bottom: 10px;
}

/* Make sure both tab2 and tab3 share consistent styling */
.news-section h3,
.todo-section h3, 
.notes-section h3,
.weather-section h3 {
    color: #7aa2f7; /* Consistent heading color */
    margin-bottom: 15px;
    font-size: 20px;
    flex-shrink: 0; /* Prevent headings from shrinking */
    padding-bottom: 5px; /* Add padding below heading */
    border-bottom: 1px solid rgba(122, 162, 247, 0.1); /* Add separator */
}

/* ===== TAB2 - WEATHER & RSS ===== */
.weather-news-container {
    display: flex;
    gap: 30px;
    height: calc(100% - 0px);
}

/* Tab2 Settings Button */
.tab2-settings-btn {
    height: 30px;
    width: 30px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    background-color: rgba(26, 27, 38, 0.7);
    color: #565f89;
    font-size: 14px;
    cursor: pointer;
    transition: all 0.3s ease;
    position: fixed;
    bottom: 20px;
    right: 20px;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
    z-index: 100;
    display: none;
    /* opacity is now controlled by the common selector above */
}

/* Tab2 Settings Form Styles */
#tab2-settings-form {
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    max-width: 450px;
    max-height: 80vh;
    overflow-y: auto;
}

.settings-tabs {
    display: flex;
    margin-bottom: 20px;
    border-bottom: 1px solid #414868;
}

.settings-tab {
    padding: 8px 15px;
    cursor: pointer;
    color: #565f89;
    transition: all 0.3s ease;
}

.settings-tab:hover {
    color: #7aa2f7;
}

.settings-tab.active {
    color: #bb9af7;
    border-bottom: 2px solid #bb9af7;
}

.settings-panel {
    display: none;
    gap: 10px;
    flex-wrap: wrap;
}

/* Add this new rule to show the active settings panel */
.settings-panel.active {
    display: flex;
    flex-direction: column;
}

.location-separator {
    color: #565f89;
}

/* RSS Feeds List */
.rss-feeds-list {
    margin-bottom: 15px;
}

#rss-feeds-container {
    margin-bottom: 15px;
    max-height: 200px;
    overflow-y: auto;
}

.rss-feed-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    background-color: rgba(41, 46, 66, 0.6);
    padding: 10px;
    border-radius: 5px;
    margin-bottom: 8px;
}

.feed-info {
    display: flex;
    flex-direction: column;
}

.feed-name {
    color: #c0caf5;
    font-size: 14px;
    margin-bottom: 3px;
}

.feed-url {
    color: #565f89;
    font-size: 12px;
    word-break: break-all;
}

.feed-actions {
    display: flex;
    gap: 5px;
}

.feed-action {
    color: #565f89;
    cursor: pointer;
    font-size: 12px;
    padding: 3px;
    transition: color 0.2s;
}

.feed-action:hover {
    color: #7aa2f7;
}

.feed-action.delete:hover {
    color: #f7768e;
}

/* Buttons */
.mini-btn {
    padding: 5px 10px;
    font-size: 12px;
    background-color: rgba(122, 162, 247, 0.2);
    color: #7aa2f7;
    border: 1px solid #414868;
    border-radius: 4px;
    cursor: pointer;
    transition: all 0.2s ease;
}

.mini-btn:hover {
    background-color: rgba(122, 162, 247, 0.3);
}

.add-btn {
    width: 100%;
    margin-top: 5px;
}

.cancel-btn {
    background-color: transparent;
    color: #565f89;
}

.cancel-btn:hover {
    background-color: rgba(41, 46, 66, 0.6);
    color: #c0caf5;
}

/* Make sure both tab2 and tab3 share consistent styling */
.news-section h3,
.todo-section h3, 
.notes-section h3,
.weather-section h3 {
    /* color: #bb9af7; */
    color: #616ca1;
    color: #7aa2f7;
    margin-bottom: 15px;
    font-size: 20px;
    flex-shrink: 0;
}

/* Add media queries for better responsive layout */
@media (max-width: 1200px) {
    #shortcuts-grid {
        gap: 20px;
    }
    
    .shortcut-item {
        max-width: 140px;
    }
}

@media (max-width: 768px) {
    #shortcuts-grid {
        gap: 15px;
    }
    
    .shortcut-item {
        max-width: 120px;
    }
}

/* Dynamic column count based on number of shortcuts */
/* For 1 shortcut */
#shortcuts-grid:has(.shortcut-item:first-child:last-child) {
    grid-template-columns: minmax(130px, 160px);
    max-width: 200px;
}

/* For 2 shortcuts - single column, 2 rows */
#shortcuts-grid:has(.shortcut-item:first-child:nth-last-child(2)) {
    grid-template-columns: minmax(130px, 160px);
    max-width: 200px;
}

/* For 3-4 shortcuts - single column, 3-4 rows */
#shortcuts-grid:has(.shortcut-item:nth-child(n+3):nth-child(-n+4):last-child) {
    grid-template-columns: minmax(130px, 160px);
    max-width: 200px;
}

/* For 5-6 shortcuts - single column, 5-6 rows */
#shortcuts-grid:has(.shortcut-item:nth-child(n+5):nth-child(-n+6):last-child) {
    grid-template-columns: minmax(130px, 160px);
    max-width: 200px;
}

/* For 7+ shortcuts - two columns, up to 6 rows */
#shortcuts-grid:has(.shortcut-item:nth-child(n+7)) {
    grid-template-columns: repeat(2, minmax(130px, 160px));
    max-width: 400px;
}

/* Grid helper classes that can be added via JavaScript */
.grid-col-1 {
    grid-template-columns: minmax(130px, 160px) !important;
    max-width: 200px !important;
}

.grid-col-2 {
    grid-template-columns: repeat(2, minmax(130px, 160px)) !important;
    max-width: 400px !important;
}

/* Media query adjustments for very small screens */
@media (max-width: 450px) {
    #shortcuts-grid {
        gap: 15px;
    }
    
    .shortcut-item {
        max-width: 120px;
    }
    
    #shortcuts-grid:has(.shortcut-item:nth-child(n+7)) {
        grid-template-columns: repeat(2, minmax(100px, 120px));
        max-width: 300px;
    }
}

/* ===== DRAG AND DROP STYLES ===== */
.shortcut-item[draggable="true"] {
    cursor: grab;
}

body.edit-mode .shortcut-item:hover::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: rgba(122, 162, 247, 0.05);
    border-radius: 12px;
    pointer-events: none;
    z-index: 1;
}

body.dragging-shortcut .shortcut-item {
    transition: transform 0.2s ease, opacity 0.2s ease;
}

.shortcut-item.drag-over {
    transform: scale(1.05);
    box-shadow: 0 0 15px rgba(187, 154, 247, 0.5);
    border: 2px solid rgba(187, 154, 247, 0.5);
}

.drag-placeholder {
    background-color: rgba(187, 154, 247, 0.2) !important;
    border: 2px dashed #bb9af7 !important;
    box-shadow: none !important;
}

.edit-instructions {
    background-color: rgba(26, 27, 38, 0.7);
    color: #7aa2f7;
    padding: 8px 16px;
    border-radius: 20px;
    margin-top: 20px;
    font-size: 14px;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    opacity: 0;
    transition: opacity 0.3s ease;
    text-align: center;
}

.edit-instructions i {
    font-size: 16px;
}

body:not(.edit-mode) .edit-instructions {
    display: none;
}

/* Prevent text selection during drag */
body.dragging-shortcut {
    user-select: none;
}

/* Make sure dragged item stays on top */
.shortcut-item:active {
    z-index: 100;
}

/* Adjust shortcut link behavior in edit mode */
body.edit-mode .shortcut-link {
    pointer-events: none; /* Prevent following links when in edit mode */
}

body.edit-mode .edit-shortcut {
    pointer-events: auto; /* Ensure edit button still works */
}

/* ===== BACKGROUND CONFIG BUTTON & FORM ===== */
.bg-config-btn {
    height: 30px;
    width: 30px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    background-color: rgba(26, 27, 38, 0.7);
    color: #565f89;
    font-size: 14px;
    cursor: pointer;
    transition: all 0.3s ease;
    position: fixed;
    bottom: 20px;
    left: 20px;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
    z-index: 100;
    opacity: 0;
}

.bg-config-btn:hover {
    background-color: rgba(41, 46, 66, 0.9);
    color: #7aa2f7;
    opacity: 1;
    transform: scale(1.1);
}

/* Background selector styles */
#background-form {
    max-width: 450px;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
}

.bg-selector-heading {
    color: #c0caf5;
    margin-bottom: 10px;
    font-size: 16px;
}

.bg-selector {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 10px;
    margin-bottom: 20px;
}

.bg-option {
    position: relative;
    border-radius: 5px;
    overflow: hidden;
    cursor: pointer;
    height: 80px;
    border: 2px solid transparent;
    transition: all 0.3s ease;
}

.bg-option:hover {
    transform: scale(1.05);
}

.bg-option img {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

.bg-option.active {
    border-color: #7aa2f7;
}

.bg-check {
    position: absolute;
    top: 5px;
    right: 5px;
    height: 20px;
    width: 20px;
    border-radius: 50%;
    background-color: #7aa2f7;
    color: #1a1b26;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 12px;
    opacity: 0;
    transition: opacity 0.3s ease;
}

.bg-option.active .bg-check {
    opacity: 1;
}

.custom-bg-section {
    margin-top: 15px;
    padding-top: 15px;
    border-top: 1px solid #414868;
}

/* Blur adjustment section styles */
.blur-adjustment-section {
    margin-top: 15px;
    padding-top: 15px;
    border-top: 1px solid #414868;
}

.blur-slider {
    width: 100%;
    height: 5px;
    -webkit-appearance: none;
    background: rgba(41, 46, 66, 0.6);
    border-radius: 5px;
    outline: none;
    margin: 10px 0;
}

.blur-slider::-webkit-slider-thumb {
    -webkit-appearance: none;
    width: 15px;
    height: 15px;
    border-radius: 50%;
    background: #7aa2f7;
    cursor: pointer;
}

.blur-slider::-moz-range-thumb {
    width: 15px;
    height: 15px;
    border-radius: 50%;
    background: #7aa2f7;
    cursor: pointer;
    border: none;
}

#blur-value {
    color: #7aa2f7;
    font-weight: 500;
}
#custom-bg-color {
    width: 50px;
    padding: 5px;
    border-radius: unset;
}

/* Reset configuration section styles */
.reset-section {
    margin-top: 25px;
    padding-top: 20px;
    border-top: 1px solid #414868;
    display: flex;
    flex-direction: column;
    gap: 10px;
}

.reset-section h4 {
    color: #f7768e;
    font-size: 16px;
    margin: 0;
}

.reset-description {
    color: #565f89;
    font-size: 12px;
    margin: 0;
    line-height: 1.5;
}

.btn-danger {
    background-color: rgba(247, 118, 142, 0.2);
    color: #f7768e;
    border: 1px solid #f7768e;
    align-self: flex-start;
}

.btn-danger:hover {
    background-color: rgba(247, 118, 142, 0.4);
}

/* Tab1 Settings Button */
.tab1-settings-btn {
    height: 30px;
    width: 30px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    background-color: rgba(26, 27, 38, 0.7);
    color: #565f89;
    font-size: 14px;
    cursor: pointer;
    transition: all 0.3s ease, opacity 0.5s ease;
    position: fixed;
    bottom: 60px;
    left: 20px; /* Move to the left of the body */
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
    z-index: 100;
    display: none;
    opacity: 0;
}

/* Apply the same hiding behavior to tab1 settings button */
.buttons-visible .tab1-settings-btn {
    opacity: 0.7;
}

.tab1-settings-btn:hover {
    background-color: rgba(41, 46, 66, 0.9);
    color: #7aa2f7;
    opacity: 1;
    transform: scale(1.1);
}

/* Tab visibility settings */
.tab-visibility-settings {
    margin-bottom: 20px;
}

.setting-item {
    margin-bottom: 15px;
}

.toggle-label {
    display: flex;
    justify-content: space-between;
    align-items: center;
    cursor: pointer;
    color: #c0caf5;
}

.toggle-switch {
    position: relative;
    display: inline-block;
    width: 50px;
    height: 24px;
    margin-left: 10px;
}

.toggle-switch input {
    opacity: 0;
    width: 0;
    height: 0;
}

.toggle-slider {
    position: absolute;
    cursor: pointer;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: rgba(41, 46, 66, 0.8);
    transition: .4s;
    border-radius: 24px;
    border: 1px solid #414868;
}

.toggle-slider:before {
    position: absolute;
    content: "";
    height: 16px;
    width: 16px;
    left: 4px;
    bottom: 3px;
    background-color: #565f89;
    transition: .4s;
    border-radius: 50%;
}

input:checked + .toggle-slider {
    background-color: rgba(122, 162, 247, 0.2);
}

input:checked + .toggle-slider:before {
    transform: translateX(26px);
    background-color: #7aa2f7;
}

/* Hide tabs based on settings */
.tab-hidden {
    display: none !important;
}

.unit-selector {
    display: flex;
    gap: 20px;
    margin-top: 5px;
}

.unit-selector label {
    display: flex;
    align-items: center;
    gap: 8px;
    color: #c0caf5;
    cursor: pointer;
    padding: 8px 12px;
    border-radius: 6px;
    transition: all 0.2s ease;
    background-color: rgba(41, 46, 66, 0.4);
}

.unit-selector label:hover {
    background-color: rgba(41, 46, 66, 0.6);
}

.unit-selector input[type="radio"] {
    -webkit-appearance: none;
    -moz-appearance: none;
    appearance: none;
    width: 18px;
    height: 18px;
    border: 2px solid #414868;
    border-radius: 50%;
    outline: none;
    transition: all 0.2s ease;
    position: relative;
    background-color: rgba(26, 27, 38, 0.5);
}

.unit-selector input[type="radio"]:checked {
    border-color: #7aa2f7;
}

.unit-selector input[type="radio"]:checked::before {
    content: "";
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 10px;
    height: 10px;
    border-radius: 50%;
    background-color: #7aa2f7;
}

.unit-selector input[type="radio"]:checked + span {
    color: #7aa2f7;
}
